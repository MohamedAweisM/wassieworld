(this.webpackJsonpwassieworld=this.webpackJsonpwassieworld||[]).push([[0],{100:function(e,t,n){},101:function(e,t){},104:function(e,t){},125:function(e,t){},126:function(e,t){},148:function(e,t,n){"use strict";n.r(t);var r=n(12),a=n.n(r),c=n(58),i=n.n(c),o=n(25),s=(n(100),n(2)),u=n(10),l=n(1),d=n.n(l),p=n.p+"static/media/discordlogoblack.78884197.png",f=n.p+"static/media/twitterlogoblack.1b7d4334.png",b=n.p+"static/media/wassieworld.d18f3d96.png",h=n(32),m=n.n(h),g=n(4),v=n(7),x=n(16),j=function(){var e,t,n,r=null===(e="https://nameless-young-pine.solana-mainnet.quiknode.pro/ffbc9acee9e4d25ea47ec4420d8da39f00014148/")?void 0:e.toString(),a=null===(t="mainnet-beta")?void 0:t.toString(),c=null===(n="AjWy8DM5yRkJPF6AgZ4sATPxuwx7UmzFbvHB9qouMtdA")?void 0:n.toString();return{envError:r&&c&&a?(c.length<32||c.length>44)&&(console.error("Candy Machine Public Key is invalid. Enter a length in-between 32 and 44 characters"),!0):(r||console.error("RPC URL not populated"),c||console.error("Candy Machine ID not populated"),a||console.error("Environment not populated"),!0),rpcUrl:r,cluster:a,candyMachineId:c}},w=function(){var e=Object(s.a)(d.a.mark((function e(t,n){var r,a,c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.account.candyMachine.fetch(n);case 2:return r=e.sent,a=r.data.itemsAvailable.toNumber(),c=r.itemsRedeemed.toNumber(),i=a-c,e.abrupt("return",{id:n,program:t,state:{itemsAvailable:a,itemsRedeemed:c,itemsRemaining:i,isSoldOut:0===i,isActive:r.data.goLiveDate.toNumber()<(new Date).getTime()/1e3&&(!r.endSettings||(r.endSettings.endSettingType.date?r.endSettings.number.toNumber()>(new Date).getTime()/1e3:c<r.endSettings.number.toNumber())),goLiveDate:r.data.goLiveDate,treasury:r.wallet,tokenMint:r.tokenMint,gatekeeper:r.data.gatekeeper,endSettings:r.data.endSettings,whitelistMintSettings:r.data.whitelistMintSettings,hiddenSettings:r.data.hiddenSettings,price:r.data.price}});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=n(24),k=n(19);function O(e,t){return _.apply(this,arguments)}function _(){return(_=Object(s.a)(d.a.mark((function e(t,n){var r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.fetchIdl(y.a,n);case 3:return r=e.sent,a=new x.a(r,y.a,n),e.next=7,w(a,t);case 7:return e.abrupt("return",e.sent);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function S(e){return P.apply(this,arguments)}function P(){return(P=Object(s.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.connect({onlyIfTrusted:!0});case 3:return n=e.sent,e.abrupt("return",n.publicKey.toString());case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function K(e,t){return R.apply(this,arguments)}function R(){return(R=Object(s.a)(d.a.mark((function e(t,n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new x.c.PublicKey(t),e.prev=1,e.next=4,n.getBalance(r);case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function M(e,t,n){return E.apply(this,arguments)}function E(){return(E=Object(s.a)(d.a.mark((function e(t,n,r){var a,c,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getParsedTokenAccountsByOwner(new x.c.PublicKey(t),{programId:k.b});case 3:a=e.sent,c=0;case 5:if(!(c<a.value.length)){e.next=15;break}if(i=a.value[c],o=i.account.data.parsed.info.tokenAmount,!(i.account.data.parsed.info.mint===r.toString()&&o.uiAmount>0)){e.next=12;break}return console.log("Welcome to the whitelist!"),e.abrupt("return",!0);case 12:c++,e.next=5;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.error(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}function C(e){return T.apply(this,arguments)}function T(){return(T=Object(s.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.connect();case 3:return n=e.sent,e.abrupt("return",n.publicKey.toString());case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var L=Object(o.b)({key:"user",default:{walletPublicKey:"",userBalance:0,isWhiteListed:!1,solanaExplorerLink:""}}),W=function(){var e=Object(s.a)(d.a.mark((function e(t){var n,r,a,c,i,o,s,u,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.solana,a=t.connection,c=t.candyMachine,i={walletPublicKey:"",userBalance:0,isWhiteListed:!1,solanaExplorerLink:""},e.next=4,S(r);case 4:if(!(o=e.sent)){e.next=11;break}return e.next=8,K(o,a);case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=void 0;case 12:if(s=e.t0,!o){e.next=19;break}return e.next=16,M(o,a,null===c||void 0===c||null===(n=c.state.whitelistMintSettings)||void 0===n?void 0:n.mint);case 16:e.t1=e.sent,e.next=20;break;case 19:e.t1=void 0;case 20:return u=e.t1,l=Object(v.a)(Object(v.a)({walletPublicKey:o},s&&{userBalance:s}),u&&{isWhiteListed:u}),e.abrupt("return",Object(v.a)(Object(v.a)({},i),l));case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=n(46),A=n.n(B),N=n(11),I=function(){var e,t,n=Object(o.c)(L),r=Object(u.a)(n,2),a=r[0],c=(r[1],!(null===a||void 0===a||!a.walletPublicKey));return Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{className:A.a.addressContainer,children:[Object(N.jsx)("span",{className:c?A.a.greenCircle:A.a.greyCircle}),Object(N.jsx)("span",{className:A.a.address,children:c?"".concat(null===(e=a.walletPublicKey)||void 0===e?void 0:e.slice(0,4),"...").concat(null===(t=a.walletPublicKey)||void 0===t?void 0:t.slice(-4)):"Not connected"})]}),c&&Object(N.jsxs)("div",{className:A.a.balance,children:[(a.userBalance/g.LAMPORTS_PER_SOL).toFixed(2)," SOL"]})]})},F=function(){return Object(N.jsx)("header",{className:m.a.container,children:Object(N.jsxs)("div",{className:m.a.content,children:[Object(N.jsx)("div",{className:m.a.headerLeft,children:Object(N.jsx)("img",{className:m.a.wwLogo,src:b,alt:"Wassie World Logo"})}),Object(N.jsxs)("div",{className:m.a.headerRight,children:[Object(N.jsx)("a",{href:"https://twitter.com/Wassieworld",children:Object(N.jsx)("img",{className:m.a.socialIcon,src:f,alt:"Twitter logo"})}),Object(N.jsx)("a",{href:"https://discord.gg/VWKcFRKdjK",children:Object(N.jsx)("img",{className:m.a.socialIcon,src:p,alt:"Discord logo"})}),Object(N.jsx)(I,{})]})]})})},U=(n(34),n(35)),q=n.n(U),D=n.p+"static/media/wassie.7181bf93.gif",Y=n(91),G=function(){var e,t=Object(r.useState)(window.solana),n=Object(u.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)(0),o=Object(u.a)(i,2),s=o[0],l=o[1],d=Object(r.useState)(!1),p=Object(u.a)(d,2),f=p[0],b=p[1];return Object(r.useEffect)((function(){return e=!e&&setInterval((function(){var e=window.solana;e&&null!==e&&void 0!==e&&e.isPhantom&&c(e),l((function(e){return e+1}))}),50),a?clearInterval(e):s>10&&(b(!0),clearInterval(e)),function(){return clearInterval(e)}}),[a,s]),{solana:a,solanaFail:f}},z=n(63),J=n(92),V=n(41),Z=n.n(V),H=function(e){var t,n=e.candyMachine,a=e.updateCandyMachine,c=e.connection,i=e.setMintError,l=j().cluster,p=G().solana,f=Object(o.c)(L),b=Object(u.a)(f,2),h=b[0],m=b[1],w=Object(r.useState)(!1),y=Object(u.a)(w,2),k=y[0],O=y[1],_=null===n||void 0===n?void 0:n.state.price,S=null===n||void 0===n||null===(t=n.state.whitelistMintSettings)||void 0===t?void 0:t.discountPrice,P=null===n||void 0===n?void 0:n.state.isSoldOut,R=null===h||void 0===h?void 0:h.isWhiteListed,E=R?(null===h||void 0===h?void 0:h.userBalance)<S:(null===h||void 0===h?void 0:h.userBalance)<_,T=function(){var e=Object(s.a)(d.a.mark((function e(){var t,r,a,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(p);case 2:if(!(r=e.sent)||!c){e.next=9;break}return e.next=6,K(r,c);case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=void 0;case 10:if(a=e.t0,!r||!c){e.next=17;break}return e.next=14,M(r,c,null===n||void 0===n||null===(t=n.state.whitelistMintSettings)||void 0===t?void 0:t.mint);case 14:e.t1=e.sent,e.next=18;break;case 17:e.t1=void 0;case 18:i=e.t1,o=Object(v.a)(Object(v.a)({walletPublicKey:r},a&&{userBalance:a}),i&&{isWhiteListed:i}),m(Object(v.a)(Object(v.a)({},h),o));case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(s.a)(d.a.mark((function e(){var t,r,a,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,O(!0),i(!1),null===n||void 0===n||!n.program||null===h||void 0===h||!h.walletPublicKey){e.next=14;break}return r=x.c.Keypair.generate(),e.next=7,Object(J.a)(n,new x.c.PublicKey(h.walletPublicKey),r);case 7:if(a=e.sent[0],o={err:!0},!a){e.next=13;break}return e.next=12,Object(z.a)(a,3e4,c,"singleGossip",!0);case 12:o=e.sent;case 13:null!==(t=o)&&void 0!==t&&t.err?(console.error("An error occurred"),i(!0)):(console.log("Success"),B(r.publicKey));case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.error("An error occurred ",e.t0),i(!0);case 20:return e.prev=20,O(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[0,16,20,23]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(s.a)(d.a.mark((function e(t){var r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n&&(r="devnet"===l?"https://explorer.solana.com/address/".concat(t,"?cluster=devnet"):"https://explorer.solana.com/address/".concat(t),(c=n).state.itemsRedeemed+=1,a(c),m(Object(v.a)(Object(v.a)({},h),{},{solanaExplorerLink:r})),A());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=window.innerWidth>=425?{scalar:1.2,startVelocity:60,particleCount:350,spread:180,origin:{y:-.3}}:{particleCount:200,spread:90,origin:{y:-.5}};Object(Y.a)(Object(v.a)(Object(v.a)({},e),{},{angle:270}))},I={soldOut:Z.a.soldOut,getPhantom:Z.a.getPhantom,connectWallet:Z.a.connectWallet,insufficientFunds:Z.a.insufficientFunds,minting:Z.a.minting,mint:Z.a.mint},F={soldOut:"Sold Out!",getPhantom:"Get Phantom",connectWallet:"Connect Wallet",insufficientFunds:"Insufficient Funds \n      (".concat(((R?S:_)/g.LAMPORTS_PER_SOL).toFixed(2)," \n      SOL required)"),minting:"Minting...",mint:"Mint \n      (".concat(((R?S:_)/g.LAMPORTS_PER_SOL).toFixed(2)," \n      SOL)")},U={soldOut:function(){},getPhantom:function(){return window.open("https://phantom.app/","_blank")},connectWallet:T,insufficientFunds:function(){},minting:function(){},mint:W},q=P?"soldOut":p?h.walletPublicKey?E?"insufficientFunds":k?"minting":"mint":"connectWallet":"getPhantom";return Object(N.jsx)("button",{id:"mint-button",className:I[q],onClick:U[q],children:F[q]})},Q=n(93),X=n.n(Q),$=function(e){var t=e.redeemed,n=e.total;return Object(N.jsxs)("p",{className:X.a.mintCount,children:[t," / ",n," claimed"]})},ee=function(e){var t=e.url,n=e.isError;if(!t&&!n)return null;return Object(N.jsx)("span",{style:te.link(n),onClick:function(){n||window.open(t,"_blank")},children:n?"Something went wrong! Please try again.":"Mint successful! Click here to view your Wassie."})},te={link:function(e){return Object(v.a)({margin:"16px 0",color:e?"#d63310":"#4bb543",textDecoration:"none"},!e&&{fontWeight:600,cursor:"pointer"})}},ne=function(e){var t,n,a,c,i,s=e.candyMachine,l=e.updateCandyMachine,d=e.connection,p=Object(r.useState)(!1),f=Object(u.a)(p,2),b=f[0],h=f[1],m=Object(o.d)(L),v=null===s||void 0===s||null===(t=s.state)||void 0===t?void 0:t.itemsRedeemed,x=null===s||void 0===s||null===(n=s.state)||void 0===n?void 0:n.itemsAvailable,j=null===s||void 0===s||null===(a=s.state)||void 0===a?void 0:a.price,w=null===s||void 0===s||null===(c=s.state)||void 0===c||null===(i=c.whitelistMintSettings)||void 0===i?void 0:i.discountPrice,y=((null===m||void 0===m?void 0:m.isWhiteListed)&&w?w:j)/g.LAMPORTS_PER_SOL;return Object(N.jsx)("div",{className:q.a.container,children:Object(N.jsxs)("div",{className:q.a.content,children:[Object(N.jsxs)("div",{className:q.a.headings,children:[Object(N.jsx)("h2",{children:" Public minting now open!"}),Object(N.jsxs)("h3",{children:[" ","Mint your Wassie for just ".concat(y," SOL")," "]})]}),Object(N.jsxs)("div",{className:q.a.hero,children:[Object(N.jsx)("img",{className:q.a.wassieGif,src:D,alt:"Wassie gif"}),Object(N.jsxs)("div",{className:q.a.heroRight,children:[Object(N.jsx)("p",{className:q.a.description,children:"3,333 Randomly Generated 3D Wassies! Wassie World is a project focused on providing real life utility for all its holders!"}),Object(N.jsx)(H,{candyMachine:s,updateCandyMachine:l,connection:d,setMintError:h}),Object(N.jsx)($,{redeemed:v,total:x}),Object(N.jsx)(ee,{url:null===m||void 0===m?void 0:m.solanaExplorerLink,isError:b})]})]})]})})},re=n(65),ae=n.n(re),ce=function(){var e=j().envError,t=G(),n=t.solana,a=t.solanaFail,c=function(){var e=j(),t=e.rpcUrl,n=e.candyMachineId,r=Object(o.e)(L),a=function(){var e=Object(s.a)(d.a.mark((function e(a){var c,i,o,s,u,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={preflightCommitment:"processed"},i=new g.Connection(t),o=new x.c.PublicKey(n),s=new x.b(i,a,c.preflightCommitment),e.next=6,O(o,s);case 6:return u=e.sent,e.next=9,W({solana:a,connection:i,candyMachine:u});case 9:return l=e.sent,r(l),e.abrupt("return",{connection:i,candyMachine:u});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{initializeStore:a}}(),i=c.initializeStore,l=Object(r.useState)(!0),p=Object(u.a)(l,2),f=p[0],b=p[1],h=Object(r.useState)(void 0),m=Object(u.a)(h,2),v=m[0],w=m[1],y=Object(r.useState)(void 0),k=Object(u.a)(y,2),_=k[0],S=k[1];return Object(r.useEffect)((function(){if(f){if(e)return void b(!1);(n||a)&&Object(s.a)(d.a.mark((function e(){var t,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(n);case 2:t=e.sent,r=t.candyMachine,a=t.connection,S(a),w(r);case 7:case"end":return e.stop()}}),e)})))()}}),[n,a,i]),Object(r.useEffect)((function(){_&&v&&b(!1)}),[_,v]),f?Object(N.jsx)("div",{className:ae.a.container,children:Object(N.jsx)("div",{className:ae.a.loading})}):!f&&e?Object(N.jsx)("div",{className:ae.a.container,children:Object(N.jsx)("div",{style:{margin:"auto"},children:"An error occurred. Please check if your environment variables have been populated correctly and redeploy the applcation."})}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(F,{}),Object(N.jsx)("main",{children:Object(N.jsx)(ne,{candyMachine:v,updateCandyMachine:function(e){w(e)},connection:_})})]})},ie=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,149)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(N.jsx)(a.a.StrictMode,{children:Object(N.jsx)(o.a,{children:Object(N.jsx)(ce,{})})}),document.getElementById("root")),ie()},24:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return i}));var r=n(16),a=new r.c.PublicKey("cndy3Z4yapfJBmL3ShUp5exZKqR3z33thTzeNMm2gRZ"),c=new r.c.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),i=new r.c.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL")},32:function(e,t,n){e.exports={container:"header_container__SgiTI",content:"header_content__1ge6R",headerLeft:"header_headerLeft__1PHnN",headerRight:"header_headerRight__2TG1T",wwLogo:"header_wwLogo__2R55a",socialIcon:"header_socialIcon__3hL7Y"}},34:function(e,t,n){e.exports={container:"footer_container__3FWUk",content:"footer_content__2utyM",wwLogo:"footer_wwLogo__3JiR2",socialLinks:"footer_socialLinks__3VpGS",socialIcon:"footer_socialIcon__2brBe"}},35:function(e,t,n){e.exports={container:"hero_container__3_Zq3",content:"hero_content__3ig5q",headings:"hero_headings__1-Uta",hero:"hero_hero__3L-Tx",wassieGif:"hero_wassieGif__3lmiv",heroRight:"hero_heroRight__kEtUz",description:"hero_description__2E6rT"}},41:function(e,t,n){e.exports={heroButton:"mintButton_heroButton__1KWpL",getPhantom:"mintButton_getPhantom__2WiJy",connectWallet:"mintButton_connectWallet__1AC8g",mint:"mintButton_mint__d0l0Q",soldOut:"mintButton_soldOut__2ih6_",insufficientFunds:"mintButton_insufficientFunds__wkrXW",minting:"mintButton_minting__Xij_f"}},46:function(e,t,n){e.exports={addressContainer:"walletConnect_addressContainer__3VXgp",address:"walletConnect_address__3CTLh",circle:"walletConnect_circle__2q7FM",greenCircle:"walletConnect_greenCircle__5Ei3m",greyCircle:"walletConnect_greyCircle__2ZwAn",balance:"walletConnect_balance__SucC5",headerButton:"walletConnect_headerButton__1-BKQ"}},63:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return h}));var r,a=n(13),c=n(2),i=n(1),o=n.n(i),s=n(4);!function(e){e[e.Sequential=0]="Sequential",e[e.Parallel=1]="Parallel",e[e.StopOnFailure=2]="StopOnFailure"}(r||(r={}));var u=function(){var e=Object(c.a)(o.a.mark((function e(t,n,c,i){var u,l,p,f,b,h,m,g,v,x,j,w,y,k,O=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=O.length>4&&void 0!==O[4]?O[4]:r.Parallel,l=O.length>5&&void 0!==O[5]?O[5]:"singleGossip",p=O.length>6&&void 0!==O[6]?O[6]:function(e,t){},f=O.length>7&&void 0!==O[7]?O[7]:function(e,t){return!1},b=O.length>8?O[8]:void 0,h=[],b){e.next=10;break}return e.next=9,t.getRecentBlockhash(l);case 9:b=e.sent;case 10:m=function(e){var t=c[e],r=i[e];if(0===t.length)return"continue";var o=new s.Transaction;t.forEach((function(e){return o.add(e)})),o.recentBlockhash=b.blockhash,o.setSigners.apply(o,[n.publicKey].concat(Object(a.a)(r.map((function(e){return e.publicKey}))))),r.length>0&&o.partialSign.apply(o,Object(a.a)(r)),h.push(o)},g=0;case 12:if(!(g<c.length)){e.next=19;break}if("continue"!==m(g)){e.next=16;break}return e.abrupt("continue",16);case 16:g++,e.next=12;break;case 19:return e.next=21,n.signAllTransactions(h);case 21:v=e.sent,x=[],j={breakEarly:!1,i:0},console.log("Signed txns length",v.length,"vs handed in length",c.length),w=o.a.mark((function e(n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=d({connection:t,signedTransaction:v[n]})).then((function(e){var t=e.txid;e.slot;p(t,n)})).catch((function(e){f(v[n],n),u===r.StopOnFailure&&(j.breakEarly=!0,j.i=n)})),u===r.Parallel){e.next=21;break}return e.prev=3,e.next=6,a;case 6:e.next=19;break;case 8:if(e.prev=8,e.t0=e.catch(3),console.log("Caught failure",e.t0),!j.breakEarly){e.next=19;break}return console.log("Died on ",j.i),e.t1=j.i,e.next=16,Promise.all(x);case 16:return e.t2=e.sent,e.t3={number:e.t1,txs:e.t2},e.abrupt("return",{v:e.t3});case 19:e.next=22;break;case 21:x.push(a);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})),y=0;case 27:if(!(y<v.length)){e.next=35;break}return e.delegateYield(w(y),"t0",29);case 29:if("object"!==typeof(k=e.t0)){e.next=32;break}return e.abrupt("return",k.v);case 32:y++,e.next=27;break;case 35:if(u===r.Parallel){e.next=38;break}return e.next=38,Promise.all(x);case 38:return e.t1=v.length,e.next=41,Promise.all(x);case 41:return e.t2=e.sent,e.abrupt("return",{number:e.t1,txs:e.t2});case 43:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),l=function(){return(new Date).getTime()/1e3};function d(e){return p.apply(this,arguments)}function p(){return(p=Object(c.a)(o.a.mark((function e(t){var n,r,a,i,s,u,d,p,b,m,v,x,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.signedTransaction,r=t.connection,a=t.timeout,i=void 0===a?15e3:a,s=n.serialize(),u=l(),d=0,e.next=6,r.sendRawTransaction(s,{skipPreflight:!0});case 6:return p=e.sent,console.log("Started awaiting confirmation for",p),b=!1,Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b||!(l()-u<i)){e.next=6;break}return r.sendRawTransaction(s,{skipPreflight:!0}),e.next=4,g(500);case 4:e.next=0;break;case 6:case"end":return e.stop()}}),e)})))(),e.prev=10,e.next=13,h(p,i,r,"recent",!0);case 13:if(m=e.sent){e.next=16;break}throw new Error("Timed out awaiting confirmation on transaction");case 16:if(!m.err){e.next=19;break}throw console.error(m.err),new Error("Transaction failed: Custom instruction error");case 19:d=(null===m||void 0===m?void 0:m.slot)||0,e.next=47;break;case 22:if(e.prev=22,e.t0=e.catch(10),console.error("Timeout Error caught",e.t0),!e.t0.timeout){e.next=27;break}throw new Error("Timed out awaiting confirmation on transaction");case 27:return v=null,e.prev=28,e.next=31,f(r,n,"single");case 31:v=e.sent.value,e.next=36;break;case 34:e.prev=34,e.t1=e.catch(28);case 36:if(!v||!v.err){e.next=47;break}if(!v.logs){e.next=46;break}x=v.logs.length-1;case 39:if(!(x>=0)){e.next=46;break}if(!(j=v.logs[x]).startsWith("Program log: ")){e.next=43;break}throw new Error("Transaction failed: "+j.slice("Program log: ".length));case 43:--x,e.next=39;break;case 46:throw new Error(JSON.stringify(v.err));case 47:return e.prev=47,b=!0,e.finish(47);case 50:return console.log("Latency",p,l()-u),e.abrupt("return",{txid:p,slot:d});case 52:case"end":return e.stop()}}),e,null,[[10,22,47,50],[28,34]])})))).apply(this,arguments)}function f(e,t,n){return b.apply(this,arguments)}function b(){return(b=Object(c.a)(o.a.mark((function e(t,n,r){var a,c,i,s,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._recentBlockhash(t._disableBlockhashCaching);case 2:return n.recentBlockhash=e.sent,a=n.serializeMessage(),c=n._serialize(a),i=c.toString("base64"),s=[i,{encoding:"base64",commitment:r}],e.next=10,t._rpcRequest("simulateTransaction",s);case 10:if(!(u=e.sent).error){e.next=13;break}throw new Error("failed to simulate transaction: "+u.error.message);case 13:return e.abrupt("return",u.result);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t,n){return m.apply(this,arguments)}function m(){return m=Object(c.a)(o.a.mark((function e(t,n,r){var a,i,s,u,l,d=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.length>3&&void 0!==d[3]?d[3]:"recent",i=d.length>4&&void 0!==d[4]&&d[4],s=!1,u={slot:0,confirmations:0,err:null},l=0,e.next=7,new Promise(function(){var e=Object(c.a)(o.a.mark((function e(d,p){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){s||(s=!0,console.log("Rejecting for timeout..."),p({timeout:!0}))}),n);try{l=r.onSignature(t,(function(e,t){s=!0,u={err:e.err,slot:t.slot,confirmations:0},e.err?(console.log("Rejected via websocket",e.err),p(u)):(console.log("Resolved via websocket",e),d(u))}),a)}catch(f){s=!0,console.error("WS error in setup",t,f)}case 2:if(s||!i){e.next=8;break}return Object(c.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.getSignatureStatuses([t]);case 3:n=e.sent,u=n&&n.value[0],s||(u?u.err?(console.log("REST error for",t,u),s=!0,p(u.err)):u.confirmations?(console.log("REST confirmation for",t,u),s=!0,d(u)):console.log("REST no confirmations for",t,u):console.log("REST null result for",t,u)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),s||console.log("REST connection error: txid",t,e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))(),e.next=6,g(2e3);case 6:e.next=2;break;case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 7:return u=e.sent,r._signatureSubscriptions[l]&&r.removeSignatureListener(l),s=!0,console.log("Returning status",u),e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function g(e){return new Promise((function(t){return setTimeout(t,e)}))}},65:function(e,t,n){e.exports={fadeIn:"App_fadeIn__3R-bv",container:"App_container__eSJ6i",loading:"App_loading__3Rsj5","lds-hourglass":"App_lds-hourglass__1Jcvc"}},92:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var r=n(10),a=n(2),c=n(1),i=n.n(c),o=n(16),s=n(19),u=n(4),l=n(63),d=n(24),p=function(){var e=Object(a.a)(i.a.mark((function e(t,n,a){var c,p,v,x,j,w,y,k,O,_,S,P,K,R,M,E,C;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a.publicKey),e.next=3,f(a.publicKey,n);case 3:if(c=e.sent[0],!t.state.tokenMint){e.next=10;break}return e.next=7,f(t.state.tokenMint,n);case 7:e.t0=e.sent[0],e.next=11;break;case 10:e.t0=n;case 11:return p=e.t0,v=t.id,x=[],j=[a],w=[],e.next=18,m(a.publicKey);case 18:return y=e.sent,e.next=21,h(a.publicKey);case 21:return k=e.sent,e.next=24,g(v);case 24:return O=e.sent,_=Object(r.a)(O,2),S=_[0],P=_[1],e.t1=o.c.SystemProgram,e.t2=n,e.t3=a.publicKey,e.t4=s.a.span,e.next=34,t.program.provider.connection.getMinimumBalanceForRentExemption(s.a.span);case 34:if(e.t5=e.sent,e.t6=s.b,e.t7={fromPubkey:e.t2,newAccountPubkey:e.t3,space:e.t4,lamports:e.t5,programId:e.t6},e.t8=e.t1.createAccount.call(e.t1,e.t7),e.t9=s.c.createInitMintInstruction(s.b,a.publicKey,0,n,n),e.t10=b(c,n,n,a.publicKey),e.t11=s.c.createMintToInstruction(s.b,a.publicKey,c,n,[],1),K=[e.t8,e.t9,e.t10,e.t11],!t.state.whitelistMintSettings){e.next=57;break}return R=new o.c.PublicKey(t.state.whitelistMintSettings.mint),e.next=46,f(R,n);case 46:if(M=e.sent[0],x.push({pubkey:M,isWritable:!0,isSigner:!1}),!t.state.whitelistMintSettings.mode.burnEveryTime){e.next=57;break}return E=o.c.Keypair.generate(),x.push({pubkey:R,isWritable:!0,isSigner:!1}),x.push({pubkey:E.publicKey,isWritable:!1,isSigner:!0}),j.push(E),e.next=55,t.program.provider.connection.getAccountInfo(M);case 55:e.sent&&(K.push(s.c.createApproveInstruction(s.b,M,E.publicKey,n,[],1)),w.push(s.c.createRevokeInstruction(s.b,M,n,[])));case 57:return t.state.tokenMint&&(C=o.c.Keypair.generate(),j.push(C),x.push({pubkey:p,isWritable:!0,isSigner:!1}),x.push({pubkey:C.publicKey,isWritable:!1,isSigner:!0}),K.push(s.c.createApproveInstruction(s.b,p,C.publicKey,n,[],t.state.price.toNumber())),w.push(s.c.createRevokeInstruction(s.b,p,n,[]))),e.t12=K,e.next=61,t.program.instruction.mintNft(P,{accounts:{candyMachine:v,candyMachineCreator:S,payer:n,wallet:t.state.treasury,mint:a.publicKey,metadata:y,masterEdition:k,mintAuthority:n,updateAuthority:n,tokenMetadataProgram:d.c,tokenProgram:s.b,systemProgram:u.SystemProgram.programId,rent:o.c.SYSVAR_RENT_PUBKEY,clock:o.c.SYSVAR_CLOCK_PUBKEY,recentBlockhashes:o.c.SYSVAR_RECENT_BLOCKHASHES_PUBKEY,instructionSysvarAccount:o.c.SYSVAR_INSTRUCTIONS_PUBKEY},remainingAccounts:x.length>0?x:void 0});case 61:return e.t13=e.sent,e.t12.push.call(e.t12,e.t13),e.prev=63,e.next=66,Object(l.b)(t.program.provider.connection,t.program.provider.wallet,[K,w],[j,[]]);case 66:return e.abrupt("return",e.sent.txs.map((function(e){return e.txid})));case 69:e.prev=69,e.t14=e.catch(63),console.log(e.t14);case 72:return e.abrupt("return",[]);case 73:case"end":return e.stop()}}),e,null,[[63,69]])})));return function(t,n,r){return e.apply(this,arguments)}}(),f=function(){var e=Object(a.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.c.PublicKey.findProgramAddress([n.toBuffer(),s.b.toBuffer(),t.toBuffer()],d.b);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),b=function(t,n,r,a){var c=[{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:o.c.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:s.b,isSigner:!1,isWritable:!1},{pubkey:o.c.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new o.c.TransactionInstruction({keys:c,programId:d.b,data:e.from([])})},h=function(){var t=Object(a.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.c.PublicKey.findProgramAddress([e.from("metadata"),d.c.toBuffer(),n.toBuffer(),e.from("edition")],d.c);case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=Object(a.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.c.PublicKey.findProgramAddress([e.from("metadata"),d.c.toBuffer(),n.toBuffer()],d.c);case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=Object(a.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.c.PublicKey.findProgramAddress([e.from("candy_machine"),n.toBuffer()],d.a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}).call(this,n(9).Buffer)},93:function(e,t,n){e.exports={mintCount:"mintCount_mintCount__35rTK"}}},[[148,1,2]]]);
//# sourceMappingURL=main.6a2c88c8.chunk.js.map