(this.webpackJsonpwassieworld=this.webpackJsonpwassieworld||[]).push([[0],{118:function(e,t){},119:function(e,t){},141:function(e,t,n){},142:function(e,t,n){"use strict";n.r(t);var r=n(12),a=n.n(r),c=n(53),s=n.n(c),i=n(25),o=(n(93),n(9)),u=n(2),l=n(10),d=n(1),b=n.n(d),p=n(4),f=n(16),h=n.p+"static/media/wassieworld.d18f3d96.png",m=n.p+"static/media/twitterlogoblack.1b7d4334.png",x=n.p+"static/media/discordlogoblack.78884197.png",g=n.p+"static/media/solanalogoblack.a562efa0.png",v=n.p+"static/media/example.7181bf93.gif",j=(Object(i.b)({key:"candyMachine",default:void 0}),Object(i.b)({key:"user",default:{walletPublicKey:"",userBalance:0,isWhiteListed:!1,solanaExplorerLink:""}})),y=function(){var e=Object(u.a)(b.a.mark((function e(t,n){var r,a,c,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.account.candyMachine.fetch(n);case 2:return r=e.sent,a=r.data.itemsAvailable.toNumber(),c=r.itemsRedeemed.toNumber(),s=a-c,e.abrupt("return",{id:n,program:t,state:{itemsAvailable:a,itemsRedeemed:c,itemsRemaining:s,isSoldOut:0===s,isActive:r.data.goLiveDate.toNumber()<(new Date).getTime()/1e3&&(!r.endSettings||(r.endSettings.endSettingType.date?r.endSettings.number.toNumber()>(new Date).getTime()/1e3:c<r.endSettings.number.toNumber())),goLiveDate:r.data.goLiveDate,treasury:r.wallet,tokenMint:r.tokenMint,gatekeeper:r.data.gatekeeper,endSettings:r.data.endSettings,whitelistMintSettings:r.data.whitelistMintSettings,hiddenSettings:r.data.hiddenSettings,price:r.data.price}});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=n(24),O=n(19);function k(e,t){return S.apply(this,arguments)}function S(){return(S=Object(u.a)(b.a.mark((function e(t,n){var r,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.fetchIdl(w.a,n);case 3:return r=e.sent,a=new f.a(r,w.a,n),e.next=7,y(a,t);case 7:return e.abrupt("return",e.sent);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function P(e){return N.apply(this,arguments)}function N(){return(N=Object(u.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.connect({onlyIfTrusted:!0});case 3:return n=e.sent,e.abrupt("return",n.publicKey.toString());case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function K(e,t){return R.apply(this,arguments)}function R(){return(R=Object(u.a)(b.a.mark((function e(t,n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new f.c.PublicKey(t),e.prev=1,e.next=4,n.getBalance(r);case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function E(e,t,n){return T.apply(this,arguments)}function T(){return(T=Object(u.a)(b.a.mark((function e(t,n,r){var a,c,s,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getParsedTokenAccountsByOwner(new f.c.PublicKey(t),{programId:O.b});case 3:a=e.sent,c=0;case 5:if(!(c<a.value.length)){e.next=15;break}if(s=a.value[c],i=s.account.data.parsed.info.tokenAmount,!(s.account.data.parsed.info.mint===r.toString()&&i.uiAmount>0)){e.next=12;break}return console.log("Welcome to the whitelist!"),e.abrupt("return",!0);case 12:c++,e.next=5;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.error(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}function A(e){return M.apply(this,arguments)}function M(){return(M=Object(u.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.connect();case 3:return n=e.sent,e.abrupt("return",n.publicKey.toString());case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var B=n(85),L=n(86),W=n(58),_=function(){var e,t=Object(r.useState)(window.solana),n=Object(l.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(0),i=Object(l.a)(s,2),o=i[0],u=i[1],d=Object(r.useState)(!1),b=Object(l.a)(d,2),p=b[0],f=b[1];return Object(r.useEffect)((function(){return e=!e&&setInterval((function(){var e=window.solana;e&&null!==e&&void 0!==e&&e.isPhantom&&c(e),u((function(e){return e+1}))}),50),(a||o>10)&&(f(!0),clearInterval(e)),function(){return clearInterval(e)}}),[a,o]),{solana:a,solanaFail:p}},C=n(11),I=function(e){var t,n,a,c=e.cluster,s=e.connection,d=e.candyMachine,h=e.updateCandyMachine,m=_().solana,x=Object(i.c)(j),g=Object(l.a)(x,2),v=g[0],y=g[1],w=Object(r.useState)(!1),O=Object(l.a)(w,2),k=O[0],S=O[1],P=Object(r.useState)(!1),N=Object(l.a)(P,2),R=N[0],T=N[1],M=new Date(1e3*(null===d||void 0===d||null===(t=d.state.goLiveDate)||void 0===t?void 0:t.toNumber())),I=null===d||void 0===d?void 0:d.state.price,F=null===d||void 0===d||null===(n=d.state.whitelistMintSettings)||void 0===n?void 0:n.discountPrice,D=null===d||void 0===d?void 0:d.state.isActive,Y=null===d||void 0===d||null===(a=d.state)||void 0===a?void 0:a.isSoldOut,U=null===v||void 0===v?void 0:v.isWhiteListed,q=function(){var e=Object(u.a)(b.a.mark((function e(){var t,n,r,a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(m);case 2:if(!(n=e.sent)||!s){e.next=9;break}return e.next=6,K(n,s);case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=void 0;case 10:if(r=e.t0,!n||!s){e.next=17;break}return e.next=14,E(n,s,null===d||void 0===d||null===(t=d.state.whitelistMintSettings)||void 0===t?void 0:t.mint);case 14:e.t1=e.sent,e.next=18;break;case 17:e.t1=void 0;case 18:a=e.t1,c=Object(o.a)(Object(o.a)({walletPublicKey:n},r&&{userBalance:r}),a&&{isWhiteListed:a}),y(Object(o.a)(Object(o.a)({},v),c));case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(u.a)(b.a.mark((function e(){var t,n,r,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,S(!0),null===d||void 0===d||!d.program||null===v||void 0===v||!v.walletPublicKey){e.next=13;break}return n=f.c.Keypair.generate(),e.next=6,Object(L.a)(d,new f.c.PublicKey(v.walletPublicKey),n);case 6:if(r=e.sent[0],a={err:!0},!r){e.next=12;break}return e.next=11,Object(W.a)(r,3e4,s,"singleGossip",!0);case 11:a=e.sent;case 12:null!==(t=a)&&void 0!==t&&t.err?console.error("An error occurred"):(console.log("Success"),V(n.publicKey));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error("An error occurred ",e.t0);case 18:return e.prev=18,S(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[0,15,18,21]])})));return function(){return e.apply(this,arguments)}}(),V=function(e){if(d){var t="devnet"===c?"https://explorer.solana.com/address/".concat(e,"?cluster=devnet"):"https://explorer.solana.com/address/".concat(e),n=d;n.state.itemsRedeemed+=1,h(n),T(!0),y(Object(o.a)(Object(o.a)({},v),{},{solanaExplorerLink:t})),Object(B.a)({particleCount:200,spread:70,origin:{y:.6}})}},G=Y,J=!Y&&!m,Z=!Y&&m&&!v.walletPublicKey,H=!Y&&m&&v.walletPublicKey&&!D&&!U,Q=!G&&m&&v.walletPublicKey&&(D||U)&&(U?v.userBalance<F:v.userBalance<I),X=!(v.userBalance<I)&&!Y&&m&&v.walletPublicKey&&(D||U);return Object(C.jsxs)("div",{className:"flex flex-col",children:[J&&Object(C.jsx)("button",{className:" px-3 py-2 rounded-md  bg-blue-600  hover:bg-blue-700 text-white font-bold",onClick:function(){return window.open("https://phantom.app/","_blank")},children:"Get Phantom Wallet"}),Z&&Object(C.jsx)("button",{className:" px-3 py-2 rounded-md  bg-blue-600  hover:bg-blue-700 text-white font-bold",onClick:q,children:"Connect"}),H&&Object(C.jsxs)("button",{className:" px-3 py-2 rounded-md text-white font-bold bg-gray-400 cursor-not-allowed",disabled:!0,children:["Public sale starts ",M.toUTCString()]}),G&&Object(C.jsx)("button",{className:" px-3 py-2 rounded-md  bg-gray-400 text-white font-bold cursor-not-allowed",children:"Sold Out!"}),Q&&Object(C.jsxs)("button",{className:" px-3 py-2 rounded-md  bg-gray-400 text-white font-bold cursor-not-allowed",disabled:!0,children:["Insufficient Funds (",((U?F:I)/p.LAMPORTS_PER_SOL).toFixed(2)," SOL required)"]}),X&&Object(C.jsxs)("button",{className:" px-3 py-2 rounded-md  bg-blue-600  hover:bg-blue-700 text-white font-bold disabled:bg-gray-400",disabled:k,onClick:z,children:[k&&Object(C.jsx)("span",{children:"Minting ..."}),!k&&R&&Object(C.jsx)("span",{children:"Mint succesful! Mint another?"}),!k&&!R&&Object(C.jsxs)("span",{children:[" Mint (",((U?F:I)/p.LAMPORTS_PER_SOL).toFixed(2)," SOL)"]})]})]})},F=n.p+"static/media/star.c9ed945a.svg",D=function(){var e,t=Object(i.d)(j);return Object(C.jsxs)("div",{className:"justify-end flex p-3",children:[t.isWhiteListed&&Object(C.jsxs)("div",{className:"flex mr-auto",children:[Object(C.jsx)("img",{src:F,alt:"",className:"w-5 mr-2"}),Object(C.jsx)("div",{className:"my-auto text-gray-600 text-sm",children:"Whitelist"})]}),Object(C.jsx)("div",{className:"flex",children:t.walletPublicKey?Object(C.jsxs)("div",{className:" flex flex-col",children:[Object(C.jsxs)("div",{className:"flex",children:[Object(C.jsx)("span",{className:"my-auto mr-2 rounded-full h-2 w-2 bg-green-500"}),Object(C.jsx)("span",{className:" my-auto text-gray-600 text-sm",children:null===(e=t.walletPublicKey)||void 0===e?void 0:e.slice(0,8)})]}),Object(C.jsxs)("div",{className:" text-xs text-gray-600 text-right ",children:[(t.userBalance/p.LAMPORTS_PER_SOL).toFixed(2)," SOL"]})]}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("span",{className:"my-auto mr-2 rounded-full h-2 w-2 bg-gray-500"}),Object(C.jsx)("span",{className:" my-auto text-gray-600 text-sm",children:" Not Connected "})]})})]})},Y=(n(141),function(){var e,t,n,a,c,s=null===(e="https://nameless-young-pine.solana-mainnet.quiknode.pro/ffbc9acee9e4d25ea47ec4420d8da39f00014148/")?void 0:e.toString(),d=null===(t="mainnet-beta")?void 0:t.toString(),y=null===(n="AjWy8DM5yRkJPF6AgZ4sATPxuwx7UmzFbvHB9qouMtdA")?void 0:n.toString(),w="processed",O=Object(i.c)(j),S=Object(l.a)(O,2),N=S[0],R=S[1],T=Object(r.useState)(!0),A=Object(l.a)(T,2),M=A[0],B=A[1],L=Object(r.useState)(!1),W=Object(l.a)(L,2),F=W[0],Y=W[1],U=Object(r.useState)(void 0),q=Object(l.a)(U,2),z=q[0],V=q[1],G=Object(r.useState)(void 0),J=Object(l.a)(G,2),Z=J[0],H=J[1],Q=_(),X=Q.solana,$=Q.solanaFail,ee=function(){var e=Object(u.a)(b.a.mark((function e(t){var n,r,a,c,s,i,u,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.solana,a=t.connection,c=t.candyMachine,e.next=3,P(r);case 3:if(!(s=e.sent)){e.next=10;break}return e.next=7,K(s,a);case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=void 0;case 11:if(i=e.t0,!s){e.next=18;break}return e.next=15,E(s,a,null===c||void 0===c||null===(n=c.state.whitelistMintSettings)||void 0===n?void 0:n.mint);case 15:e.t1=e.sent,e.next=19;break;case 18:e.t1=void 0;case 19:return u=e.t1,l=Object(o.a)(Object(o.a)({walletPublicKey:s},i&&{userBalance:i}),u&&{isWhiteListed:u}),e.abrupt("return",Object(o.a)(Object(o.a)({},N),l));case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){(s&&y&&d?(y.length<32||y.length>44)&&(console.error("Candy Machine Public Key is invalid. Enter a length in-between 32 and 44 characters"),!0):(s||console.error("RPC URL not populated"),y||console.error("Candy Machine ID not populated"),d||console.error("Environment not populated"),!0))&&(Y(!0),B(!1))}),[]),Object(r.useEffect)((function(){if(X||$){var e=new p.Connection(s),t=new f.c.PublicKey(y),n=new f.b(e,X,w);Object(u.a)(b.a.mark((function r(){var a,c;return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,k(t,n);case 2:return a=r.sent,r.next=5,ee({solana:X,connection:e,candyMachine:a});case 5:c=r.sent,H(a),R(c);case 8:case"end":return r.stop()}}),r)})))(),V(e),B(!1)}}),[X,$]);var te=null===Z||void 0===Z||null===(a=Z.state)||void 0===a?void 0:a.itemsRedeemed,ne=null===Z||void 0===Z||null===(c=Z.state)||void 0===c?void 0:c.itemsAvailable;return Object(C.jsxs)("div",{className:"page-container h-full bg-blue-100",children:[!M&&F&&Object(C.jsx)("div",{className:"h-full flex",children:Object(C.jsx)("div",{className:"m-auto",children:"An error occurred. Please check if your environment variables have been populated correctly and redeploy the applcation."})}),M&&Object(C.jsx)("div",{className:" h-full flex",children:Object(C.jsx)("div",{className:"lds-hourglass m-auto"})}),!F&&!M&&Object(C.jsxs)("div",{className:"max-w-screen-lg flex mx-auto justify-around mt-4",children:[Object(C.jsx)("a",{href:"https://wassieworld.xyz",className:"",children:Object(C.jsx)("img",{src:h,alt:"logo",className:"w-24"})}),Object(C.jsxs)("div",{className:"max-w-md inline-flex float-right",children:[Object(C.jsx)("a",{href:"https://discord.gg/VWKcFRKdjK",target:"_blank",rel:"noreferrer",className:"w-16",children:Object(C.jsx)("img",{src:x,alt:"discord logo",className:"  "})}),Object(C.jsx)("a",{href:"#",className:"w-16",children:Object(C.jsx)("img",{src:g,alt:"solana logo",className:""})}),Object(C.jsx)("a",{href:"https://twitter.com/Wassieworld",target:"_blank",rel:"noreferrer",className:"w-16 float-right",children:Object(C.jsx)("img",{src:m,alt:"twitter logo",className:" "})})]})]}),!F&&!M&&Object(C.jsxs)("div",{className:" fade-in max-w-lg mx-auto bg-blue-200 rounded-lg my-12   shadow-2xl",children:[Object(C.jsx)(D,{}),Object(C.jsx)("hr",{}),Object(C.jsx)("br",{}),Object(C.jsxs)("div",{className:"p-6",children:[Object(C.jsx)("img",{src:v,alt:"wassie gif",className:" rounded-lg w-1/2 mx-auto m-5"}),Object(C.jsx)("div",{className:" text-center text-lg sm:text-2xl font-mono font-bold py-5 tracking-wider ",children:Object(C.jsx)("img",{src:h,alt:"logo",className:"m-auto w-24"})}),Object(C.jsx)("div",{className:"text-sm sm:text-md font-semibold pb-5 text-gray-600 ",children:"3,333 Randomly Generated 3D Wassies! Wassie World is a project focused on providing real life utility for all its holders!"}),Object(C.jsx)(I,{cluster:d,connection:z,candyMachine:Z,updateCandyMachine:function(e){H(e)}}),Object(C.jsxs)("div",{className:" tracking-widest font-bold text-sm pt-3 text-gray-400",children:[te,"/",ne," claimed"]}),Object(C.jsx)("div",{className:"flex flex-col pt-3",children:N.solanaExplorerLink&&Object(C.jsx)("a",{href:N.solanaExplorerLink,target:"_blank",rel:"noreferrer",className:"text-purple-700 font-semibold  p-1",children:"View on Solana Explorer"})})]})]})]})});var U=function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Y,{})})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,143)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};s.a.render(Object(C.jsx)(a.a.StrictMode,{children:Object(C.jsx)(i.a,{children:Object(C.jsx)(U,{})})}),document.getElementById("root")),q()},24:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s}));var r=n(16),a=new r.c.PublicKey("cndy3Z4yapfJBmL3ShUp5exZKqR3z33thTzeNMm2gRZ"),c=new r.c.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),s=new r.c.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL")},58:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return h}));var r,a=n(13),c=n(2),s=n(1),i=n.n(s),o=n(4);!function(e){e[e.Sequential=0]="Sequential",e[e.Parallel=1]="Parallel",e[e.StopOnFailure=2]="StopOnFailure"}(r||(r={}));var u=function(){var e=Object(c.a)(i.a.mark((function e(t,n,c,s){var u,l,b,p,f,h,m,x,g,v,j,y,w,O,k=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=k.length>4&&void 0!==k[4]?k[4]:r.Parallel,l=k.length>5&&void 0!==k[5]?k[5]:"singleGossip",b=k.length>6&&void 0!==k[6]?k[6]:function(e,t){},p=k.length>7&&void 0!==k[7]?k[7]:function(e,t){return!1},f=k.length>8?k[8]:void 0,h=[],f){e.next=10;break}return e.next=9,t.getRecentBlockhash(l);case 9:f=e.sent;case 10:m=function(e){var t=c[e],r=s[e];if(0===t.length)return"continue";var i=new o.Transaction;t.forEach((function(e){return i.add(e)})),i.recentBlockhash=f.blockhash,i.setSigners.apply(i,[n.publicKey].concat(Object(a.a)(r.map((function(e){return e.publicKey}))))),r.length>0&&i.partialSign.apply(i,Object(a.a)(r)),h.push(i)},x=0;case 12:if(!(x<c.length)){e.next=19;break}if("continue"!==m(x)){e.next=16;break}return e.abrupt("continue",16);case 16:x++,e.next=12;break;case 19:return e.next=21,n.signAllTransactions(h);case 21:g=e.sent,v=[],j={breakEarly:!1,i:0},console.log("Signed txns length",g.length,"vs handed in length",c.length),y=i.a.mark((function e(n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=d({connection:t,signedTransaction:g[n]})).then((function(e){var t=e.txid;e.slot;b(t,n)})).catch((function(e){p(g[n],n),u===r.StopOnFailure&&(j.breakEarly=!0,j.i=n)})),u===r.Parallel){e.next=21;break}return e.prev=3,e.next=6,a;case 6:e.next=19;break;case 8:if(e.prev=8,e.t0=e.catch(3),console.log("Caught failure",e.t0),!j.breakEarly){e.next=19;break}return console.log("Died on ",j.i),e.t1=j.i,e.next=16,Promise.all(v);case 16:return e.t2=e.sent,e.t3={number:e.t1,txs:e.t2},e.abrupt("return",{v:e.t3});case 19:e.next=22;break;case 21:v.push(a);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})),w=0;case 27:if(!(w<g.length)){e.next=35;break}return e.delegateYield(y(w),"t0",29);case 29:if("object"!==typeof(O=e.t0)){e.next=32;break}return e.abrupt("return",O.v);case 32:w++,e.next=27;break;case 35:if(u===r.Parallel){e.next=38;break}return e.next=38,Promise.all(v);case 38:return e.t1=g.length,e.next=41,Promise.all(v);case 41:return e.t2=e.sent,e.abrupt("return",{number:e.t1,txs:e.t2});case 43:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),l=function(){return(new Date).getTime()/1e3};function d(e){return b.apply(this,arguments)}function b(){return(b=Object(c.a)(i.a.mark((function e(t){var n,r,a,s,o,u,d,b,f,m,g,v,j;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.signedTransaction,r=t.connection,a=t.timeout,s=void 0===a?15e3:a,o=n.serialize(),u=l(),d=0,e.next=6,r.sendRawTransaction(o,{skipPreflight:!0});case 6:return b=e.sent,console.log("Started awaiting confirmation for",b),f=!1,Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f||!(l()-u<s)){e.next=6;break}return r.sendRawTransaction(o,{skipPreflight:!0}),e.next=4,x(500);case 4:e.next=0;break;case 6:case"end":return e.stop()}}),e)})))(),e.prev=10,e.next=13,h(b,s,r,"recent",!0);case 13:if(m=e.sent){e.next=16;break}throw new Error("Timed out awaiting confirmation on transaction");case 16:if(!m.err){e.next=19;break}throw console.error(m.err),new Error("Transaction failed: Custom instruction error");case 19:d=(null===m||void 0===m?void 0:m.slot)||0,e.next=47;break;case 22:if(e.prev=22,e.t0=e.catch(10),console.error("Timeout Error caught",e.t0),!e.t0.timeout){e.next=27;break}throw new Error("Timed out awaiting confirmation on transaction");case 27:return g=null,e.prev=28,e.next=31,p(r,n,"single");case 31:g=e.sent.value,e.next=36;break;case 34:e.prev=34,e.t1=e.catch(28);case 36:if(!g||!g.err){e.next=47;break}if(!g.logs){e.next=46;break}v=g.logs.length-1;case 39:if(!(v>=0)){e.next=46;break}if(!(j=g.logs[v]).startsWith("Program log: ")){e.next=43;break}throw new Error("Transaction failed: "+j.slice("Program log: ".length));case 43:--v,e.next=39;break;case 46:throw new Error(JSON.stringify(g.err));case 47:return e.prev=47,f=!0,e.finish(47);case 50:return console.log("Latency",b,l()-u),e.abrupt("return",{txid:b,slot:d});case 52:case"end":return e.stop()}}),e,null,[[10,22,47,50],[28,34]])})))).apply(this,arguments)}function p(e,t,n){return f.apply(this,arguments)}function f(){return(f=Object(c.a)(i.a.mark((function e(t,n,r){var a,c,s,o,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._recentBlockhash(t._disableBlockhashCaching);case 2:return n.recentBlockhash=e.sent,a=n.serializeMessage(),c=n._serialize(a),s=c.toString("base64"),o=[s,{encoding:"base64",commitment:r}],e.next=10,t._rpcRequest("simulateTransaction",o);case 10:if(!(u=e.sent).error){e.next=13;break}throw new Error("failed to simulate transaction: "+u.error.message);case 13:return e.abrupt("return",u.result);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t,n){return m.apply(this,arguments)}function m(){return m=Object(c.a)(i.a.mark((function e(t,n,r){var a,s,o,u,l,d=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.length>3&&void 0!==d[3]?d[3]:"recent",s=d.length>4&&void 0!==d[4]&&d[4],o=!1,u={slot:0,confirmations:0,err:null},l=0,e.next=7,new Promise(function(){var e=Object(c.a)(i.a.mark((function e(d,b){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){o||(o=!0,console.log("Rejecting for timeout..."),b({timeout:!0}))}),n);try{l=r.onSignature(t,(function(e,t){o=!0,u={err:e.err,slot:t.slot,confirmations:0},e.err?(console.log("Rejected via websocket",e.err),b(u)):(console.log("Resolved via websocket",e),d(u))}),a)}catch(p){o=!0,console.error("WS error in setup",t,p)}case 2:if(o||!s){e.next=8;break}return Object(c.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.getSignatureStatuses([t]);case 3:n=e.sent,u=n&&n.value[0],o||(u?u.err?(console.log("REST error for",t,u),o=!0,b(u.err)):u.confirmations?(console.log("REST confirmation for",t,u),o=!0,d(u)):console.log("REST no confirmations for",t,u):console.log("REST null result for",t,u)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o||console.log("REST connection error: txid",t,e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))(),e.next=6,x(2e3);case 6:e.next=2;break;case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 7:return u=e.sent,r._signatureSubscriptions[l]&&r.removeSignatureListener(l),o=!0,console.log("Returning status",u),e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function x(e){return new Promise((function(t){return setTimeout(t,e)}))}},86:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var r=n(10),a=n(2),c=n(1),s=n.n(c),i=n(16),o=n(19),u=n(4),l=n(58),d=n(24),b=function(){var e=Object(a.a)(s.a.mark((function e(t,n,a){var c,b,g,v,j,y,w,O,k,S,P,N,K,R,E,T,A;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a.publicKey),e.next=3,p(a.publicKey,n);case 3:if(c=e.sent[0],!t.state.tokenMint){e.next=10;break}return e.next=7,p(t.state.tokenMint,n);case 7:e.t0=e.sent[0],e.next=11;break;case 10:e.t0=n;case 11:return b=e.t0,g=t.id,v=[],j=[a],y=[],e.next=18,m(a.publicKey);case 18:return w=e.sent,e.next=21,h(a.publicKey);case 21:return O=e.sent,e.next=24,x(g);case 24:return k=e.sent,S=Object(r.a)(k,2),P=S[0],N=S[1],e.t1=i.c.SystemProgram,e.t2=n,e.t3=a.publicKey,e.t4=o.a.span,e.next=34,t.program.provider.connection.getMinimumBalanceForRentExemption(o.a.span);case 34:if(e.t5=e.sent,e.t6=o.b,e.t7={fromPubkey:e.t2,newAccountPubkey:e.t3,space:e.t4,lamports:e.t5,programId:e.t6},e.t8=e.t1.createAccount.call(e.t1,e.t7),e.t9=o.c.createInitMintInstruction(o.b,a.publicKey,0,n,n),e.t10=f(c,n,n,a.publicKey),e.t11=o.c.createMintToInstruction(o.b,a.publicKey,c,n,[],1),K=[e.t8,e.t9,e.t10,e.t11],!t.state.whitelistMintSettings){e.next=57;break}return R=new i.c.PublicKey(t.state.whitelistMintSettings.mint),e.next=46,p(R,n);case 46:if(E=e.sent[0],v.push({pubkey:E,isWritable:!0,isSigner:!1}),!t.state.whitelistMintSettings.mode.burnEveryTime){e.next=57;break}return T=i.c.Keypair.generate(),v.push({pubkey:R,isWritable:!0,isSigner:!1}),v.push({pubkey:T.publicKey,isWritable:!1,isSigner:!0}),j.push(T),e.next=55,t.program.provider.connection.getAccountInfo(E);case 55:e.sent&&(K.push(o.c.createApproveInstruction(o.b,E,T.publicKey,n,[],1)),y.push(o.c.createRevokeInstruction(o.b,E,n,[])));case 57:return t.state.tokenMint&&(A=i.c.Keypair.generate(),j.push(A),v.push({pubkey:b,isWritable:!0,isSigner:!1}),v.push({pubkey:A.publicKey,isWritable:!1,isSigner:!0}),K.push(o.c.createApproveInstruction(o.b,b,A.publicKey,n,[],t.state.price.toNumber())),y.push(o.c.createRevokeInstruction(o.b,b,n,[]))),e.t12=K,e.next=61,t.program.instruction.mintNft(N,{accounts:{candyMachine:g,candyMachineCreator:P,payer:n,wallet:t.state.treasury,mint:a.publicKey,metadata:w,masterEdition:O,mintAuthority:n,updateAuthority:n,tokenMetadataProgram:d.c,tokenProgram:o.b,systemProgram:u.SystemProgram.programId,rent:i.c.SYSVAR_RENT_PUBKEY,clock:i.c.SYSVAR_CLOCK_PUBKEY,recentBlockhashes:i.c.SYSVAR_RECENT_BLOCKHASHES_PUBKEY,instructionSysvarAccount:i.c.SYSVAR_INSTRUCTIONS_PUBKEY},remainingAccounts:v.length>0?v:void 0});case 61:return e.t13=e.sent,e.t12.push.call(e.t12,e.t13),e.prev=63,e.next=66,Object(l.b)(t.program.provider.connection,t.program.provider.wallet,[K,y],[j,[]]);case 66:return e.abrupt("return",e.sent.txs.map((function(e){return e.txid})));case 69:e.prev=69,e.t14=e.catch(63),console.log(e.t14);case 72:return e.abrupt("return",[]);case 73:case"end":return e.stop()}}),e,null,[[63,69]])})));return function(t,n,r){return e.apply(this,arguments)}}(),p=function(){var e=Object(a.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.c.PublicKey.findProgramAddress([n.toBuffer(),o.b.toBuffer(),t.toBuffer()],d.b);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=function(t,n,r,a){var c=[{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:i.c.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:o.b,isSigner:!1,isWritable:!1},{pubkey:i.c.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new i.c.TransactionInstruction({keys:c,programId:d.b,data:e.from([])})},h=function(){var t=Object(a.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.c.PublicKey.findProgramAddress([e.from("metadata"),d.c.toBuffer(),n.toBuffer(),e.from("edition")],d.c);case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=Object(a.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.c.PublicKey.findProgramAddress([e.from("metadata"),d.c.toBuffer(),n.toBuffer()],d.c);case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=Object(a.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.c.PublicKey.findProgramAddress([e.from("candy_machine"),n.toBuffer()],d.a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}).call(this,n(8).Buffer)},93:function(e,t,n){},94:function(e,t){},97:function(e,t){}},[[142,1,2]]]);
//# sourceMappingURL=main.675a9c7b.chunk.js.map